# Set up oh-my-posh theme
oh-my-posh init fish --config $HOME/.config/ohmyposh/themes/catppuccin_macchiato.omp.json | source

# Set up fzf key bindings
fzf --fish | source

# Set up fnm
fnm env --use-on-cd | source

# Set up opencode
fish_add_path $HOME/.opencode/bin

if status is-interactive
    clear
    fastfetch
end

#
# ENV VARIABLES
#

# Set fish vim mode
set -g fish_key_bindings fish_vi_key_bindings

# Set manpager to neovim
set -x MANPAGER "nvim +Man!"

# Set EDITOR to neovim
set -x EDITOR nvim

# Set up pnpm 
set -gx PNPM_HOME "$HOME/.local/share/pnpm"
if not string match -q -- "*$PNPM_HOME*" "$PATH"
    set -gx PATH "$PNPM_HOME" $PATH
end

# Set up fnm
set FNM_PATH "$HOME/.local/share/fnm"
if [ -d "$FNM_PATH" ]
    set PATH "$FNM_PATH" $PATH
    fnm env | source
end

# Remove vim mode indicator
function fish_mode_prompt
end

# Source fish config files from conf.d
for file in ~/.config/fish/conf.d/*.fish
    source $file
end

